:root{
  --card-w: clamp(100px, 10vw, 150px);
  --card-h: calc(var(--card-w) * 1.45);

  --hud-bg: rgba(0,0,0,.35);
  --hud-stroke: rgba(255,255,255,.12);
  --shadow: 0 14px 30px rgba(0,0,0,.45);

  --header-h: 64px;
  --footer-h: 56px;

  --safe-top: calc(var(--header-h) + 14px);
  --safe-bottom: calc(var(--footer-h) + 14px);
}

*{ box-sizing:border-box; }

html, body{
  height: 100%;
  overflow: hidden;
}

body{
  margin:0;
  color:#fff;
  font-family: Inter, system-ui, Arial, sans-serif;
  background: radial-gradient(circle at 40% 20%, #0f1d3a, #050a18);
}

/* ===== BOTÃO VOLTAR ===== */

.back{
  position: fixed;
  top: 85px;
  left: 24px;
  z-index: 10002;

  display: inline-flex;
  align-items: center;
  gap: 6px;

  color: #cfe3ff;
  text-decoration: none;
  font-weight: 700;
  opacity: .85;
  transition: .2s;
}

.back:hover{
  opacity: 1;
  transform: translateX(-3px);
}

.truco-page{
  padding-top: calc(var(--header-h) + 10px);
}

/* ===== WRAPPER ===== */

.truco-wrap{
  position: fixed;
  inset: 0;

  display: flex;
  justify-content: center;
  align-items: center;

  padding: var(--safe-top) 14px var(--safe-bottom);
  z-index: 5;
}

/* ===== MESA ===== */

.mesa{
  width: min(1200px, 100%);
  height: min(720px, calc(100vh - var(--safe-top) - var(--safe-bottom)));

  position: relative;
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: var(--shadow);
  overflow: hidden;

  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,.10), transparent 45%),
    radial-gradient(circle at 70% 70%, rgba(0,0,0,.22), transparent 55%),
    linear-gradient(135deg, #0c6b36, #07522a);
}

.mesa::before{
  content:"";
  position:absolute;
  inset:0;
  background-image: url("/img/Ruido2.png");
  background-size: cover;
  opacity: .10;
  pointer-events:none;
}

/* ===== HUD TOPO ===== */

.topo{
  position:absolute;
  top: 14px;
  left: 14px;
  right: 14px;
  display:flex;
  justify-content: space-between;
  align-items: flex-start;
  z-index: 5;
}

/* REMOVE COMPLETAMENTE A SOMBRA/PLACA DO VIRA */
.info-carta{
  background: transparent;
  border: none;
  backdrop-filter: none;
  padding: 0;
  display:flex;
  align-items: center;
  gap: 10px;
}

/* remove texto vira/manilha */
.info-carta .label,
.manilha{
  display: none;
}

.carta-slot.vira{
  background: transparent;
  border: none;
  box-shadow: none;
  display:flex;
  align-items:center;
  justify-content:center;
}

.carta-slot.vira img{
  width: var(--card-w);
  height: var(--card-h);
  object-fit: contain;
  border-radius: 0;
  box-shadow: none;
}

/* ===== PLACAR ===== */

.placar{
  padding: 10px 14px;
  border-radius: 18px;
  background: var(--hud-bg);
  border: 1px solid var(--hud-stroke);
  backdrop-filter: blur(8px);
  font-size: 18px;
  font-weight: 900;
  white-space: nowrap;
}

/* ===== CENTRO ===== */

.mesa-centro{
  position:absolute;
  inset: 0;
  display:grid;
  place-items: center;
  padding-top: 90px;
  padding-bottom: 170px;
}

.carta-bot,
.carta-user{
  position:absolute;
  left:50%;
  transform: translateX(-50%);
}

.carta-bot{
  top: 85px;
  z-index: 5;
}

.carta-user{
  bottom: 105px;
  z-index: 6;
}

.carta-bot img,
.carta-user img{
  width: var(--card-w);
  height: var(--card-h);
  object-fit: contain;
  border-radius: 0;
  box-shadow: none;
}

/* ===== MÃO DO JOGADOR ===== */

.mao{
  position:absolute;
  left: 50%;
  bottom: 18px;
  transform: translateX(-50%);
  display:flex;
  gap: 14px;
  align-items: flex-end;
  z-index: 6;
  margin-left: -80px;
}

.card{
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;

  /* ✅ mata qualquer halo/realce do botão */
  outline: none;
  box-shadow: none;
  filter: none;

  /* evita highlight no mobile */
  -webkit-tap-highlight-color: transparent;

  transition: transform .18s ease, opacity .18s ease;
}

.card img{
  width: var(--card-w);
  height: var(--card-h);
  object-fit: contain;
  border-radius: 0;
  box-shadow: none !important;
  filter: none !important;
  outline: none !important;
  display: block;

  /* ✅ ajuda a não “vazar cor” nas bordas ao renderizar */
  backface-visibility: hidden;
  transform: translateZ(0);
}

.card:hover{
  transform: translateY(-12px);
}

.card.jogada{
  opacity:0;
  transform: translateY(-60px) scale(.92);
  pointer-events:none;
}

/* ===== CONTROLE ===== */

.controle{
  position:absolute;
  right: 14px;
  bottom: 14px;
  width: min(360px, calc(100% - 28px));
  padding: 12px;
  border-radius: 20px;
  background: rgba(0,0,0,.38);
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(10px);
  z-index: 7;

  display:flex;
  flex-direction: column;
  gap: 10px;
}

.meta{
  font-size: 13px;
  font-weight: 800;
}

.resultado{
  font-size: 15px;
  min-height: 20px;
}

.acoes{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

.btn-sec{
  padding: 10px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.08);
  color:#fff;
  font-weight: 900;
  cursor:pointer;
}

#btnNovo{
  width: 100%;
  padding: 14px 16px;
  border:none;
  border-radius: 16px;
  background: #1875E8;
  color:#fff;
  font-weight: 1000;
  cursor:pointer;
}

/* ===== HEADER / FOOTER ===== */

header{
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  z-index: 10001;
}

footer{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 10001;
}

/* ===== RESPONSIVO ===== */

@media (max-width: 820px){
  :root{
    --card-w: clamp(80px, 22vw, 120px);
    --card-h: calc(var(--card-w) * 1.45);
    --header-h: 72px;
    --footer-h: 64px;
  }

  .controle{
    width: calc(100% - 28px);
    left: 14px;
    right: 14px;
  }

  .mao{ bottom: 110px; }

  .carta-bot{ top: 70px; }
  .carta-user{ bottom: 105px; }
}